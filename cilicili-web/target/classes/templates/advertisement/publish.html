<!DOCTYPE HTML>
<html>
	<head>
		<mate></mate>
		<title></title>
		<!-- <link src="" > -->
		<link rel="stylesheet" href="/webjars/bootstrap/4.1.3/css/bootstrap.min.css">
		<style type="text/css">
			.text1,.text2,.text3,.text4{color:red;display:none;}
			.show1{display:none;}
			
		</style>
		<script type="text/javascript" src="/webjars/jquery/3.3.1-2/jquery.min.js" ></script>
		<script type="text/javascript" src="/webjars/bootstrap/4.1.3/js/bootstrap.min.js"></script>
		<!-- <script type="text/javascript" src="/js/publish.js"></script> -->
		<script type="text/javascript" th:inline="javascript">
		$(function(){
		    $("#sure").click(function(){
		    	var addr=advertise.value;
		    	//alert(addr);
		    	//var h=$("#advertise").val();
		    	//alert(h);
		        var newUrl = '/'+addr;    //设置新提交地址
		        //alert(newUrl);
		        $("#publish").attr('action',newUrl);    //通过jquery为action属性赋值
		       	$("#publish").submit();    //提交ID为myform的表单
		    });
		    
		    $("input[name='url']").blur(function(){
		    	//alert($(this).val());
		    	var crr=$(this).val();
		    	if(crr=="")
		    		$(".text1").css({"display":"inline"});
		    	else
		    		$(".text1").css({"display":"none"});
		    });

		    $("input[name='imgSrc']").blur(function(){
		    	//alert($(this).val());
		    	var crr=$(this).val();
		    	if(crr=="")
		    		$(".text2").css({"display":"inline"});
		    	else
		    		$(".text2").css({"display":"none"});
		    });

		    $("input[name='picsfile']").blur(function(){
		    	//alert($(this).val());
		    	var crr=$(this).val();
		    	if(crr=="")
		    		$(".text3").css({"display":"inline"});
		    	else
		    		$(".text3").css({"display":"none"});
		    });
		    $("input[name='alt']").blur(function(){
		    	//alert($(this).val());
		    	var crr=$(this).val();
		    	if(crr=="")
		    		$(".text4").css({"display":"inline"});
		    	else
		    		$(".text4").css({"display":"none"});
		    });
		})
		
		</script>
	</head>
	
	<body>
	<p th:text="${message}"></p>
		<form action="" method="post" id="publish" enctype="multipart/form-data">
		<div class="row"> 
		<div  class="col-md-4"></div>
			<div class="col-md-8">
				<div class="col-md-8">
			<div class="col-sm-12 text-center"><h3>广告发布</h3></div>
    <div class="form-group">
        <label class="col-sm-3 control-label">发布类型：</label>
        <div class="col-sm-9">
            <select class="form-control" id="advertise">
                <option th:each="type,userStat:${session.typelist}" th:value="${type.controllerPath}+'/upload?type='+${type.id}"
							th:text="${type.typeName}">
				</option>
            </select>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-3 control-label">链接：</label>
        <div class="col-sm-9">
            <input name="url" class="form-control" placeholder="请输入文本" type="text">
            <span class="text1">不能为空</span>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-3 control-label">图片名称：</label>
        <div class="col-sm-9">
            <input name="imgSrc" class="form-control" placeholder="请输入文本" type="text">
            <span class="text2">不能为空</span>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-3 control-label">图片地址：</label>
        <div class="col-sm-9">
            <input name="picsfile" class="form-control" type="file">
            <span class="text3">不能为空</span>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-3 control-label">图片描述：</label>
        <div class="col-sm-9">
            <input name="alt" class="form-control" placeholder="请输入文本" type="text">
            <span class="text4">不能为空</span>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-3 control-label">图片备注信息：</label>
        <div class="col-sm-9">
            <textarea class="form-control" name="remark"></textarea>
        </div>
    </div>
    
    <div class="form-group">
    
    <div class="col-sm-8"><center><button id="sure" class="btn btn-primary">确认发布</button></center></div>
    </div>
</div> 
			</div>
		</div>
<!-- 			<table>
				<tbody><tr><caption>广告发布</caption></tr>
				<tr><th>发布类型：</th><td>
					<select id="advertise">              
						<option th:each="type,userStat:${session.typelist}" th:value="${type.controllerPath}+'/upload?type='+${type.id}"
							th:text="${type.typeName}">
						</option>
					</select>
				</td></tr>
				<tr><th>链接：</th><td class="text1"><input type="text" name="url"><span>不能为空</span></td></tr>
				<tr><th>图片名称：</th><td class="text2"><input type="text" name="imgSrc"><span>不能为空</span></td></tr>
				<tr><th>图片地址：</th><td class="text3"><input type="file" name="picsfile"><span>不能为空</span></td></tr>
				<tr><th>图片描述：</th><td class="text4"><input type="text" name="alt"><span>不能为空</span></td></tr>
				<tr><th>图片备注信息</th><td><textarea rows="6" cols="20" name="remark"></textarea></td></tr>
				<tr><td colspan="2"><button id="sure">确认发布</button></td></tr>
				</tbody>
				
			</table> -->
		</form>
	</body>
</html>